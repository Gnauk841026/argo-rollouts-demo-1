# ingressroute.yaml
apiVersion: traefik.containo.us/v1alpha1
kind: IngressRoute
metadata:
  name: rollouts-demo-ingress
  namespace: rollouts-demo     # ← 換成你的命名空間
spec:
  entryPoints:
    - web                      # 有啟用 TLS 就加 websecure
    # - websecure
  routes:
    - match: Host(`rollouts-demo.evanlab.dev`) && PathPrefix(`/`)
      kind: Rule
      services:
        - name: rollouts-demo  # 指向上面的「TraefikService(Weighted)」
          kind: TraefikService
  # 如需 TLS，可加：
  # tls: {}
